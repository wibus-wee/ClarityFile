# åŠŸèƒ½è®¾ç½®é¡µé¢å®ç°æ€»ç»“

## ğŸ¯ å®Œæˆçš„å·¥ä½œ

### 1. åˆ›å»ºæ–°çš„è®¾ç½®åˆ†ç±»ã€ŒåŠŸèƒ½è®¾ç½®ã€
- âœ… åœ¨ç¿»è¯‘æ–‡ä»¶ä¸­æ·»åŠ äº†æ–°çš„åˆ†ç±»å’Œç›¸å…³ç¿»è¯‘
- âœ… åˆ›å»ºäº† `FeaturesSettings` ç»„ä»¶
- âœ… åœ¨è®¾ç½®é¡µé¢ä¸­æ³¨å†Œäº†æ–°åˆ†ç±»
- âœ… æ›´æ–°äº†ä¾§è¾¹æ å¯¼èˆª

### 2. Command Palette è®¾ç½®å®ç°
åˆ›å»ºäº†å®Œæ•´çš„å‘½ä»¤é¢æ¿è®¾ç½®ç•Œé¢ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š

#### åŸºç¡€è®¾ç½®
- **å¯ç”¨/ç¦ç”¨å‘½ä»¤é¢æ¿**: æ§åˆ¶å‘½ä»¤é¢æ¿åŠŸèƒ½çš„å¼€å…³
- **å¿«æ·é”®æ˜¾ç¤º**: æ˜¾ç¤ºå½“å‰çš„å¿«æ·é”®è®¾ç½®ï¼ˆCmd+K/Ctrl+Kï¼‰

#### æœç´¢è®¾ç½®
- **æœ€å¤§ç»“æœæ•°**: æ§åˆ¶æœç´¢ç»“æœçš„æ˜¾ç¤ºæ•°é‡ï¼ˆ5-100ä¸ªï¼‰
- **æœç´¢å»¶è¿Ÿ**: è®¾ç½®è¾“å…¥åå¼€å§‹æœç´¢çš„å»¶è¿Ÿæ—¶é—´ï¼ˆ0-1000msï¼‰
- **æ¨¡ç³Šæœç´¢**: å¯ç”¨/ç¦ç”¨æ¨¡ç³Šæœç´¢åŠŸèƒ½
- **æ˜¾ç¤ºæœ€è¿‘å‘½ä»¤**: æ§åˆ¶æ˜¯å¦æ˜¾ç¤ºæœ€è¿‘ä½¿ç”¨çš„å‘½ä»¤
- **æœ€å¤§æœ€è¿‘å‘½ä»¤æ•°**: è®¾ç½®ä¿å­˜çš„æœ€è¿‘å‘½ä»¤æ•°é‡ï¼ˆ5-50ä¸ªï¼‰

#### æ’ä»¶ç®¡ç†ï¼ˆé¢„ç•™ï¼‰
- ä¸ºå°†æ¥çš„æ’ä»¶ç®¡ç†åŠŸèƒ½é¢„ç•™äº†ç•Œé¢ç©ºé—´
- æ˜¾ç¤ºå¼€å‘ä¸­çš„æç¤ºä¿¡æ¯

### 3. æ–‡ä»¶ç»“æ„

```
packages/desktop/src/renderer/src/components/settings/
â”œâ”€â”€ features-settings.tsx          # æ–°å¢ï¼šåŠŸèƒ½è®¾ç½®ç»„ä»¶
â””â”€â”€ components/                     # ä½¿ç”¨ç°æœ‰çš„è®¾ç½®ç»„ä»¶åº“
    â”œâ”€â”€ SettingsForm
    â”œâ”€â”€ SettingsSection
    â”œâ”€â”€ SettingsSwitchField
    â””â”€â”€ SettingsSliderField
```

### 4. ç¿»è¯‘æ–‡ä»¶æ›´æ–°

#### ä¸­æ–‡ç¿»è¯‘ (`locales/settings/zh-CN.json`)
```json
{
  "categories": {
    "features": "åŠŸèƒ½è®¾ç½®"
  },
  "descriptions": {
    "features": "ç®¡ç†åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ç‰¹æ€§å’Œå·¥å…·"
  },
  "features": {
    "commandPalette": {
      "title": "å‘½ä»¤é¢æ¿",
      "description": "é…ç½®å‘½ä»¤é¢æ¿çš„è¡Œä¸ºå’Œæ’ä»¶",
      // ... æ›´å¤šè®¾ç½®é¡¹
    }
  }
}
```

#### è‹±æ–‡ç¿»è¯‘ (`locales/settings/en-US.json`)
```json
{
  "categories": {
    "features": "Features"
  },
  "descriptions": {
    "features": "Manage application features and tools"
  },
  "features": {
    "commandPalette": {
      "title": "Command Palette",
      "description": "Configure command palette behavior and plugins",
      // ... æ›´å¤šè®¾ç½®é¡¹
    }
  }
}
```

### 5. å¯¼èˆªæ›´æ–°

#### è®¾ç½®é¡µé¢åˆ†ç±»
åœ¨ `settings-page.tsx` ä¸­æ·»åŠ äº†æ–°çš„åˆ†ç±»ï¼š
```typescript
{ id: 'features', name: t('categories.features'), icon: Zap, component: FeaturesSettings }
```

#### ä¾§è¾¹æ å¯¼èˆª
åœ¨ `routers.ts` ä¸­æ·»åŠ äº†ä¾§è¾¹æ å­èœå•é¡¹ï¼š
```typescript
{
  path: '?category=features',
  label: t('settings:categories.features')
}
```

## ğŸ”§ æŠ€æœ¯å®ç°

### è®¾ç½®æ•°æ®ç»“æ„
ä½¿ç”¨ Zod Schema å®šä¹‰è®¾ç½®æ•°æ®ç»“æ„ï¼š
```typescript
const commandPaletteSettingsSchema = z.object({
  enabled: z.boolean(),
  maxResults: z.number().min(5).max(100),
  searchDelay: z.number().min(0).max(1000),
  fuzzySearch: z.boolean(),
  showRecentCommands: z.boolean(),
  maxRecentCommands: z.number().min(5).max(50)
})
```

### è®¾ç½®é”®æ˜ å°„
å°†è¡¨å•æ•°æ®æ˜ å°„ä¸ºæ•°æ®åº“è®¾ç½®é¡¹ï¼š
```typescript
{
  key: 'features.commandPalette.enabled',
  value: data.commandPalette.enabled,
  category: 'features',
  description: t('features.commandPalette.enabled')
}
```

### ç»„ä»¶å¤ç”¨
å……åˆ†åˆ©ç”¨ç°æœ‰çš„è®¾ç½®ç»„ä»¶åº“ï¼š
- `SettingsForm`: è¡¨å•å®¹å™¨å’Œæ•°æ®ç®¡ç†
- `SettingsSection`: è®¾ç½®åˆ†ç»„
- `SettingsSwitchField`: å¼€å…³è®¾ç½®
- `SettingsSliderField`: æ»‘å—è®¾ç½®

## ğŸ¨ UI è®¾è®¡

### è®¾è®¡åŸåˆ™
- éµå¾ªç°æœ‰è®¾ç½®é¡µé¢çš„è®¾è®¡é£æ ¼
- ä½¿ç”¨ä¸€è‡´çš„é—´è·å’Œæ’ç‰ˆ
- æä¾›æ¸…æ™°çš„è®¾ç½®é¡¹æè¿°
- æ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜

### è§†è§‰å…ƒç´ 
- ä½¿ç”¨ `Command` å›¾æ ‡è¡¨ç¤ºå‘½ä»¤é¢æ¿åŠŸèƒ½
- ä½¿ç”¨ `Zap` å›¾æ ‡è¡¨ç¤ºåŠŸèƒ½è®¾ç½®åˆ†ç±»
- ä¸ºæ’ä»¶ç®¡ç†é¢„ç•™äº†å¼€å‘ä¸­çš„æç¤ºç•Œé¢

## ğŸš€ è®¿é—®æ–¹å¼

ç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®åŠŸèƒ½è®¾ç½®ï¼š

1. **ä¾§è¾¹æ å¯¼èˆª**: è®¾ç½® â†’ åŠŸèƒ½è®¾ç½®
2. **ç›´æ¥URL**: `/settings?category=features`
3. **å‘½ä»¤é¢æ¿**: æœç´¢"åŠŸèƒ½è®¾ç½®"æˆ–"Features"

## ğŸ“‹ åç»­æ‰©å±•

è¿™ä¸ªåŠŸèƒ½è®¾ç½®é¡µé¢ä¸ºå°†æ¥æ·»åŠ æ›´å¤šåŠŸèƒ½æä¾›äº†åŸºç¡€ï¼š

1. **æ’ä»¶ç®¡ç†**: å®Œæ•´çš„æ’ä»¶å¯ç”¨/ç¦ç”¨ã€æ’åºåŠŸèƒ½
2. **å¿«æ·é”®è®¾ç½®**: è‡ªå®šä¹‰å‘½ä»¤é¢æ¿å¿«æ·é”®
3. **å…¶ä»–åŠŸèƒ½**: æ–‡ä»¶æœç´¢ã€ä¸»é¢˜å·¥ä½œå®¤ç­‰åŠŸèƒ½çš„è®¾ç½®

## âœ… éªŒè¯æ¸…å•

- [x] ç¿»è¯‘æ–‡ä»¶æ›´æ–°ï¼ˆä¸­è‹±æ–‡ï¼‰
- [x] åŠŸèƒ½è®¾ç½®ç»„ä»¶åˆ›å»º
- [x] è®¾ç½®é¡µé¢åˆ†ç±»æ³¨å†Œ
- [x] ä¾§è¾¹æ å¯¼èˆªæ›´æ–°
- [x] ç±»å‹æ£€æŸ¥é€šè¿‡
- [x] ç»„ä»¶æ­£ç¡®å¯¼å…¥å’Œå¯¼å‡º
- [x] è®¾ç½®æ•°æ®ç»“æ„å®šä¹‰
- [x] UI ç»„ä»¶æ­£ç¡®ä½¿ç”¨

åŠŸèƒ½è®¾ç½®é¡µé¢ç°åœ¨å·²ç»å®Œå…¨é›†æˆåˆ°åº”ç”¨ä¸­ï¼Œä¸º Command Palette å’Œå…¶ä»–åŠŸèƒ½çš„è®¾ç½®ç®¡ç†æä¾›äº†å®Œæ•´çš„åŸºç¡€ï¼
